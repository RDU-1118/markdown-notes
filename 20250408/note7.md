# Linux 作業系統實務 

## 2025/04/08

### 課本PPT ch 03

#### shell 
+ shell 負責使用者和作業系統兩者之間的溝通
+ shell也稱為指令解譯器

#### shell的種類
+ MS DOS 的標準 shell 是 command.com
+ Windows 的 shell 是 explorer.exe
+ Unix 之類的作業系統, 其使用的 shell 各有不同
  
#### shell指令提示符號

| 提示符號 | 說明                         |
|----------|----------------------------------|
| `$`      | 一般使用者提示符                 |
| `#`      | 系統管理員（root）提示符         |
| `>`      | 輸入未完成，多行續行提示         |
| `%`      | 某些 Shell（如 C shell）中使用   |

#### 檢視預設的 shell 種類
+ 執行 `echo $SHELL`或是`echo ${SHELL}`詢問系統 SHELL 環境變數的值  
  若得到`/bin/bash`,表示目前使用的shell為`bash`
+ 利用可以查詢使用者資料的 finger 工具, 也能看出該使用者預設的 shell
#### 檢視 shell
+ 執行 `sudo apt-get install finger `後執行`finger 使用者帳號 `就能查詢使用者資料
#### 更換 shell
+ 直接執行該 shell 的名稱,例如要使用zshshell就執行`zsh`
+ 退出shell就輸入`exit`就會回到預設shell (`bash`)
#### Ubuntu 常見的 Shell 類型：  

| Shell 類型 | 說明                                                         |
|------------|--------------------------------------------------------------|
| Bash       | 預設 Shell，相容性高，功能強大                                |
| Dash       | 輕量級 Shell，執行快、用於開機與系統腳本                       |
| Zsh        | 支援自動補齊、高亮顯示，搭配 `oh-my-zsh` 使用更佳體驗          |
| Fish       | 直覺現代、使用者友善，適合初學者                                |

### 課本PPT ch 04

#### 權限
+ rwx rwx rwx  
 [擁有者][群組][其他人]  

| 字元 | 意義     |
|------|----------|
| `r`  | Read（讀取） |
| `w`  | Write（寫入） |
| `x`  | Execute（執行） |  
+ 權限組合數字  

| 權限組合  | 數字表示 | 含義       |
|----------|-----------|------------|
| `---`    |  0         | 無權限     |
| `--x`    |  1         | 只可執行   |
| `-w-`    |  2         | 只可寫入   |
| `-wx`    |  3         | 寫入+執行  |
| `r--`    |  4         | 只可讀取   |
| `r-x`    |  5         | 讀取+執行  |
| `rw-`    |  6         | 讀取+寫入  |
| `rwx`    |  7         | 全部權限   |  

+ 特殊權限符號

  - 符號：`s`（出現在使用者的 x 位）
  - 功能：執行檔案時，以**檔案擁有者**身分執行。
  - 範例權限：`-rwsr-xr-x`
  - 若沒執行權限，顯示為大寫 `S`    
  -----------------------------------------------------
  -  符號：`t`（出現在其他人的 x 位）
  -  功能：只有擁有者或 root 可刪除檔案（常用於 `/tmp`）
  -  範例權限顯示：`drwxrwxrwt`
  -  若沒執行權限，顯示為大寫 `T`
  -----------------------------------------------------

### 指令介紹
------
  #### du
  + 是sidk usage意思是磁碟用量
  + 是 Linux / Ubuntu 中用來查看檔案或資料夾所佔磁碟空間的指令
  + 語法: `du [選項] [檔案或目錄]`
  

  | 參數              | 說明                    |
| --------------- | --------------------- |
| `-h`            | 以 KB、MB、GB 顯示（人類可讀格式） |
| `-s`            | 只顯示總大小，不列出子目錄         |
| `-a`            | 顯示所有檔案與目錄             |
| `-c`            | 顯示所有項目的總和             |
| `--max-depth=N` | 限制遞迴深度，只顯示第 N 層的資料夾   |

#### df
+ 用來顯示檔案系統的磁碟空間使用情況的指令
+ 語法: `df [選項] [檔案或掛載點]`
  
| 參數        | 說明                            |
| --------- | ----------------------------- |
| `-h`      | 以人類可讀格式顯示（自動換算為 KB、MB、GB）     |
| `-T`      | 顯示檔案系統的類型（如 ext4, tmpfs）      |
| `-a`      | 顯示所有檔案系統（包含虛擬、系統掛載點）          |
| `--total` | 顯示所有檔案系統加總使用量                 |
| `-i`      | 顯示 inode 使用情況（非磁碟空間，而是檔案數量限制） |

#### find
+ 在指定的目錄中遞迴搜尋檔案或資料夾
+ 語法: `find [搜尋路徑] [條件] [動作]`

| 條件               | 說明                       |
| ---------------- | ------------------------ |
| `-name "檔名"`     | 根據檔名搜尋（支援萬用字元 `*`）       |
| `-iname "檔名"`    | 忽略大小寫的檔名搜尋               |
| `-type f`        | 只搜尋檔案（file）              |
| `-type d`        | 只搜尋資料夾（directory）        |
| `-size +100M`    | 大於 100MB 的檔案             |
| `-perm 755`      | 權限符合 755 的檔案             |
| `-user username` | 指定使用者擁有的檔案               |
| `-mtime -7`      | 7 天內修改過的檔案（`-n` 是「n 天內」） |
| `-empty`         | 找出空檔案或空資料夾               |
